<div class="row">
  <div class="card col s12 m6">
    <div class="card-content">
      <span class="card-title">User registration</span>

      <form class="row" (ngSubmit)="onSubmit()" #userForm="ngForm">
        <div class="input-field">
          <input type="text"
                 name="name"
                 class="validate"
                 required="required"
                 minlength="4"
                 [(ngModel)]="model.name"
                 #name="ngModel">
          <label>Name</label>

          <div *ngIf="name.errors && (name.dirty || name.touched)"
               class="alert alert-danger">
            <div [hidden]="!name.errors.required">
              This is required field
            </div>
            <div [hidden]="!name.errors.minlength">
              Please, enter longer name
            </div>
          </div>
        </div>

        <div class="input-field">
          <input type="text"
                 name="age"
                 class="validate"
                 [(ngModel)]="model.age"
                 #age="ngModel"
                 maxlength="2"
                 required>
          <label>Age</label>

          <div *ngIf="formErrors.age" class="alert alert-danger">
            {{ formErrors.age }}
          </div>
        </div>

        <div class="input-field">
          <select name="role" required [(ngModel)]="model.role" #role="ngModel">
            <option *ngFor="let r of roles" [value]="r">
              {{ r }}
            </option>
          </select>
          <label>Role</label>

          <div [hidden]="role.valid || role.pristine" class="alert alert-danger">
            This is required field
          </div>
        </div>

        <p>
          {{ diagnostic }}
        </p>
      </form>
    </div>
    <div class="card-action">
      <button type="submit"
              class="btn btn-default"
              [disabled]="!userForm.form.valid">Submit</button>
    </div>
  </div>
</div>
